<h1 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h1><p>三元运算符通常在Python里被称为条件表达式，这些表达式基于真(true)/假(not)的条件判断，在Python 2.4以上才有了三元操作。</p>
<p>下面是一个伪代码和例子：</p>
<p><strong>伪代码:</strong></p>
<pre><code class="python"><span class="comment">#如果条件为真，返回真 否则返回假</span>
condition_is_true <span class="keyword">if</span> condition <span class="keyword">else</span> condition_is_false</code></pre>
<p><strong>例子:</strong></p>
<pre><code class="python">is_fat = <span class="literal">True</span>
state = <span class="string">"fat"</span> <span class="keyword">if</span> is_fat <span class="keyword">else</span> <span class="string">"not fat"</span></code></pre>
<p>它允许用简单的一行快速判断，而不是使用复杂的多行<code>if</code>语句。<br>这在大多数时候非常有用，而且可以使代码简单可维护。</p>
<p>另一个晦涩一点的用法比较少见，它使用了元组，请继续看：</p>
<p><strong>伪代码:</strong></p>
<pre><code class="python"><span class="comment">#(返回假，返回真)[真或假]</span>
(if_test_is_false, if_test_is_true)[test]</code></pre>
<p><strong>例子:</strong></p>
<pre><code class="python">fat = <span class="literal">True</span>
fitness = (<span class="string">"skinny"</span>, <span class="string">"fat"</span>)[fat]
print(<span class="string">"Ali is "</span>, fitness)
<span class="comment">#输出: Ali is fat</span></code></pre>
<p>这之所以能正常工作，是因为在Python中，True等于1，而False等于0，这就相当于在元组中使用0和1来选取数据。</p>
<p>上面的例子没有被广泛使用，而且Python玩家一般不喜欢那样，因为没有Python味儿(Pythonic)。这样的用法很容易把真正的数据与true/false弄混。</p>
<p>另外一个不使用元组条件表达式的缘故是因为在元组中会把两个条件都执行，而 <code>if-else</code> 的条件表达式不会这样。</p>
<p>例如:</p>
<pre><code class="python">condition = <span class="literal">True</span>
print(<span class="number">2</span> <span class="keyword">if</span> condition <span class="keyword">else</span> <span class="number">1</span>/<span class="number">0</span>)
<span class="comment">#输出: 2</span>

print((<span class="number">1</span>/<span class="number">0</span>, <span class="number">2</span>)[condition])
<span class="comment">#输出ZeroDivisionError异常</span></code></pre>
<p>这是因为在元组中是先建数据，然后用True(1)/False(0)来索引到数据。<br>而<code>if-else</code>条件表达式遵循普通的<code>if-else</code>逻辑树，<br>因此，如果逻辑中的条件异常，或者是重计算型（计算较久）的情况下，最好尽量避免使用元组条件表达式。</p>
