<h1 id="Map"><a href="#Map" class="headerlink" title="Map"></a><code>Map</code></h1><p><code>Map</code>会将一个函数映射到一个输入列表的所有元素上。这是它的规范：</p>
<p><strong>规范</strong></p>
<pre><code class="python">map(function_to_apply, list_of_inputs)</code></pre>
<p>大多数时候，我们要把列表中所有元素一个个地传递给一个函数，并收集输出。比方说：</p>
<pre><code class="python">items = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]
squared = []
<span class="keyword">for</span> i <span class="keyword">in</span> items:
    squared.append(i**<span class="number">2</span>)</code></pre>
<p><code>Map</code>可以让我们用一种简单而漂亮得多的方式来实现。就是这样：</p>
<pre><code class="python">items = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]
squared = list(map(<span class="keyword">lambda</span> x: x**<span class="number">2</span>, items))</code></pre>
<p>大多数时候，我们使用匿名函数(lambdas)来配合<code>map</code>, 所以我在上面也是这么做的。<br> 不仅用于一列表的输入， 我们甚至可以用于一列表的函数！</p>
<pre><code class="python"><span class="function"><span class="keyword">def</span> <span class="title">multiply</span><span class="params">(x)</span>:</span>
        <span class="keyword">return</span> (x*x)
<span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x)</span>:</span>
        <span class="keyword">return</span> (x+x)

funcs = [multiply, add]
<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):
    value = map(<span class="keyword">lambda</span> x: x(i), funcs)
    print(list(value))
    <span class="comment"># 译者注：上面print时，加了list转换，是为了python2/3的兼容性</span>
    <span class="comment">#        在python2中map直接返回列表，但在python3中返回迭代器</span>
    <span class="comment">#        因此为了兼容python3, 需要list转换一下</span>

<span class="comment"># Output:</span>
<span class="comment"># [0, 0]</span>
<span class="comment"># [1, 2]</span>
<span class="comment"># [4, 4]</span>
<span class="comment"># [9, 6]</span>
<span class="comment"># [16, 8]</span></code></pre>
