<h1 id="18-6-函数"><a href="#18-6-函数" class="headerlink" title="18.6 函数"></a>18.6 函数</h1><p>如何使用内建函数<code>recover</code>终止<code>panic</code>过程（参考<a href="13.3.md">章节13.3</a>）：</p>
<pre><code class="go"><span class="function"><span class="keyword">func</span> <span class="title">protect</span><span class="params">(g <span class="keyword">func</span>()</span>)</span> {
    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {
        log.Println(<span class="string">"done"</span>)
        <span class="comment">// Println executes normally even if there is a panic</span>
        <span class="keyword">if</span> x := <span class="built_in">recover</span>(); x != <span class="literal">nil</span> {
            log.Printf(<span class="string">"run time panic: %v"</span>, x)
        }
    }()
    log.Println(<span class="string">"start"</span>)
    g()
}</code></pre>
<h2 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h2><ul>
<li><a href="directory.md">目录</a></li>
<li>上一节：<a href="18.5.md">接口</a></li>
<li>下一节：<a href="18.7.md">文件</a></li>
</ul>
